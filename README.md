# 南大先腾开源计划

  [南大先腾](http://www.centit.com/)一直注重在技术领域的研发投入，公司2008年成立基础研发部（现改名为技术管理中心），公司目前有300人，其中研发人员200余人，技术管理中心有30多人，占研发团队的15%。

  “诚信、敬业、高效、共享”是南大先腾的企业文化。“共享”不仅仅是企业内部共享经营成果，还表示南大先腾愿意与技术领域的同仁共享技术研发成果。技术管理中心从2016年启动了开源计划，将公司技术应用经验、基础研发平台、研发工具等等从行业业务中剥离出来，并在www.github.com/ndxt上开源，任何个人或企业都可以免费使用。

  框架的更新列表参见 [更新日志](/UPDATE_LOG.md)。
    
  目前所有项目均是基于J2EE平台，共有15个开源项目，主要分三类：

## 第一类：基础算法类

  这类目前开源的有很多，比如apache的commons，我们的主要作为一个补充。目前[centit-commons](/centit-commons/README.md)项目中主要有几个包：

1.**centit-utils：** 集合各种通用算法，比如：农历、日期、树形结构、网络、图片、加密等等算法。 

2.**centit-compiler：** 这个包中包括一个词法分析器和一个表达式语法分析器。词法分析可以用于解析字符串，比如sql语句；表达式分析器可以作为一个建议的规则引擎使用。

3.**centit-database：** 这个包对一些常用的数据库操作进行了封装，内容包括：

   a\) 不同数据库的适配。比如：分页、计数等等。

   b\) DDL语句。这个一般业务系统是用不到，作为工具开发是比较有用，比如自定义表单。

   c\) 数据库的元数据访问。

   d\) 以JSON为对象的一个建议的ORM工具类。

   e\) 自定义的查询扩展（QueryUtils），对sql进行类扩展，引入类条件语句类似于MyBatis的If语句，和外部过滤条件用于数据权限引擎对数据进行过滤。

4，**Centit-search：** 全文检索客户端，对ES的客户端进一步封装，可以方便的使用。

## 第二类：研发框架类

  这一类是公司的研发基础，公司为了便于内部技术人员的沟通、流动和降低研发成本，对使用的技术做了约定，所有项目都需要基于相同或者类似的技术平台开发。这部分包括五个项目：

1.**centit-framework：** 这是先腾框架的核心，它规定了先腾的软件开发必须是前后端分离的，规定了前后端数据交换接口。同时引入spring mvc来约定后端的技术体系，引入spring security来约定项目的安全框架。

2.**centit-framework-system：** 这个项目是在centit-framework的基础上分别用hibernate和mybatis实现的一个系统维护项目，作为业务项目的开发基础和示例工程。

3.**centit-ui：** 这是一个前端框架，目前只有easyUi的版本。

4.**centit-integration-platform：** 这是一个集成平台的框架，它引入apereo的cas作为单点登录平台；它可以零开发的集成基于先腾框架开发的业务系统和服务平台，同样可以非常容易的集成其他第三方业务系统，作为继承类项目的开发基础。

5.**centit-scaffold：** 这是一个脚手架工具，可以通过pdm中业务表格设计自动的生成符合框架的前后端代码，其实它是一个独立的工具，有一套简易的模板语法，可以生成任何你想要的代码。

## 第三类：服务工具类

  这一类是先腾开发的核心，是多年来先腾研发人员的成果，内容较多。目前开源的有：

### 1.centit-workflow先腾的工作流引擎

  先腾的工作流引擎是一款自主研发的工作流引擎，涵盖了从流程梳理、设计、发布、管理配置、执行、监控到流程分析的完整的生命周期管理，包括图形化流程建模，自定义表单，服务化调用等功能特点。与其他工作流产品相比，我们的产品是专门针对职能型组织架构设定的，内部抽象出了一些特定的模型，特别适合政府和大型企业单位使用。

  我们的工作流适用于各种应用场景，比如简单灵活的审批自由流，或者节点数较多，流转条件复杂的流程。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image002.jpg)![](/assets/image1.png)

上图是一个审批自由流的流程图，申请或者审批完节点后都可以指定或者修改后续的审批人，还可以根据需求增加节点。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image004.jpg)![](/assets/image2.png)

上图是一个收文流程，收发文流程是职能型组织常见的流程，我们的引擎能快速构建此类流程。

### 2.centit-workorder工单系统

  工单系统是先腾自主研发的处理部门协同、任务派送、提升效率、改善服务体验的工单管理系统。随着互联网+的起步发展，企业与用户面临的客户服务问题越来越得到重视，然而客服专业度、端口覆盖问题、及时智能通讯的成本问题和历史经典问题的归档记录等常用工具存在的缺点又很难满足广大用户和企业的需求，所以为各企业应用系统嵌入一个自动分配，一键流转和经典历史问题总结的工单系统就显得犹为重要。

  目前工单系统除了支持工单提问、管理等基础功能，还支持：

   a\) 知识库：根据问题类别关键字检索相关帮助文档快速高效的定位问题解决方案；

   b\) 分配工单：可以自行分配别人或自己答复问题；还有专家团协助处理问题功能；

   c\) 评分：用户通过对文档及工单解答的评分，能够客观的统计工作人员的服务态度和工作质量。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image006.jpg)![](/assets/image3.png)

### 3.centit-webim即时通讯系统

  即时通讯系统也可以作为即时通讯模块，可以模拟用户，模拟客服（即管理员）进行及时沟通。已实现功能有：图片/文件上传功能、智能问答功能、客服管理等功能。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image008.jpg "1")![](/assets/image4.jpeg)

### 4.centit-dde先腾数据交换平台

  先腾的数据交换平台是一个独立运行的B/S结构应用系统，其主要功能由配置中心、控制中心和监控中心组成。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image010.jpg)![](/assets/image5.png)

  配置中心提供一系列与数据交换业务相关的配置功能，包括数据库连接配置、WebService服务接口配置、数据对应关系配置、数据导入导出配置、交换前后的触发器配置。

  控制中心：提供相应的功能用于控制数据交换业务的运行，包括定时调度控制、人工控制和WebService服务控制。用任务的形式去执行配置的交换关系。

  监控中心：记录交换操作的日志、查看和分析交换任务的执行情况并对它们进行统计。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image012.jpg)![](/assets/image6.png)

### 5.centit-fileserver文件管理平台

  先腾的文件管理平台具有上传下载、断点续传、收藏、文件夹管理等功能，支持标准的文件访问协议。可自定义上传文件的类型、大小等上传标准。并且可以一次性上传和管理多个符合上传标准的文件。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image014.jpg "4")![](/assets/image7.jpeg)

### 6.centit-stat统计报表平台

  先腾的统计报表模块功能强大，表格可以动态加载，根据表头排列排列数据，图表形式各样并可互相切换，有折线图、柱状图、双轴图、面积图、饼图、GIS地图、省份地图、词云、漏斗图、桑基图等等。同时有很多分析的功能，如：同比、环比、留存率、重复率等高级计算，也有较多的可视化图表，并支持导出。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image016.jpg)![](/assets/image8.png)

### 7.centit-meta-form基于元数据的自定义表单系统

  自定义表单是先腾将自定义表单模块重新定义协作，将台帐记录、数据汇报、外部调研收集并汇总。表单数据动态绑定，表单字段高度定制化，实时完成数据提交，自动生成数据和报表。

![](file:///C:\Users\codefan\AppData\Roaming\Local\Temp\msohtmlclip1\01\clip_image018.jpg)![](/assets/image9.png)

### 8.centit-msgpusher消息推送平台

  先腾自主研发的消息数据推送服务平台，对外提供连接推送服务的客户端jar包，应用系统无需了解推送过程，只需要专注于自身业务逻辑，适时调用相应推送接口即可。

PC推送依靠websocket长连接实现实时高效的向需要的用户进行消息推送服务；app推送则依赖百度云推送服务完成，稳定及时的完成推送功能。

目前支持PC,APP推送，后期还将补充支持微信公众号，邮件，和短信等常用推送。





